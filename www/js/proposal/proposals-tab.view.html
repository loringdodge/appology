<ion-view view-title="Proposals">
    <ion-pane ng-controller="CardsController" ion-side-menu-content drag-content="false">

    <!-- ng-if required here so cards are only loaded after promise -->
    <div ng-if="cards">
      <td-cards class="proposal-cards">
        <td-card ng-repeat="card in cards" class="proposal-card card-{{$index}}" on-destroy="cardDestroyed($index)" on-partial-swipe="cardPartialSwipe(amt)">
          <div ng-controller="CardController">
            <div class="proposal-profile" ng-controller="CardController">
              <div>
                <img src="{{ card.photo }}">
                <h2>{{ card.name }}</h2>
                <p>{{ card.brokerage }}</p>
                <p>{{ card.years_of_exp }} years of experience</p>
                <p class="location"><i class="ion-ios-location"></i>San Francisco, California</p>
                <p class="stars">
                  <star-directive rating="card.zillow_rating"></star-directive>
                </p>
                <p>( {{ card.reviews.length }} reviews )</p>
                <div class="corner-ribbon top-right sticky orange"> out of {{ cardsMaster.length }}</div>
              </div>

            </div>

            <div class="padding">
              <!-- Link - View Proposal -->
              <a class="button button-full button-blue border-radius-5" href="#/tab/proposal/{{ card.proposal_id }}">View</a>
              <!-- Link - Interview -->
              <button class="button button-full button-green border-radius-5" ng-click="goAway()">Interview</button>
              <!-- Action - Decline Proposal -->
              <button class="button button-full button-red border-radius-5" ng-click="onClickTransitionOut(card)">Decline</button>
            </div>

            </div>
          </div>
        </td-card>
        <td-card id="end-card">
          <i class="icon ion-ios-refresh" ng-click="refreshCards()"></i>
        </td-card>
      </td-cards>
    </div>

    </ion-pane>
</ion-view>
